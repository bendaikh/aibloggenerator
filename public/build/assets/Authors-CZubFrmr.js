import{y as j,r as h,u as B,g as a,a as w,d as r,h as P,w as U,b as e,i as u,t as i,f as V,o as l,F as x,x as z,n as E,e as F,k as g,v as y,m as N,B as S}from"./app-2AYQNSQN.js";import{_ as D}from"./SuperAdminLayout-cYLB9Tcg.js";import"./AIJobsNotification-C6dsirao.js";const T={class:"p-8"},$={class:"flex items-center justify-between mb-8"},W={class:"text-gray-400 mt-1"},H={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},I={class:"h-48 bg-[#0a0a0a] flex items-center justify-center border-b border-[#2a2a2a]"},L=["src","alt"],O={key:1,class:"text-center"},G={class:"w-20 h-20 bg-emerald-500/10 rounded-full flex items-center justify-center mx-auto mb-2"},J={class:"text-3xl font-bold text-emerald-500"},R={class:"text-gray-600 text-sm font-medium"},q={class:"p-6"},K={class:"text-xl font-bold text-white mb-1"},Q={key:0,class:"text-emerald-500 text-sm mb-3 truncate"},X={key:1,class:"text-gray-400 text-sm mb-4 line-clamp-2"},Y={class:"flex items-center justify-between mb-4"},Z={class:"flex gap-2"},ee=["onClick"],te=["onClick"],se={key:1,class:"bg-[#1a1a1a] rounded-2xl border border-[#2a2a2a] p-12 text-center"},oe={key:0,class:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4"},re={class:"bg-[#1a1a1a] rounded-2xl border border-[#2a2a2a] max-w-2xl w-full max-h-[90vh] overflow-y-auto"},ae={class:"p-6 border-b border-[#2a2a2a]"},le={class:"text-2xl font-bold text-white"},ie={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ne={class:"space-y-6"},de={key:0,class:"mt-1 text-sm text-red-500"},ue={key:0,class:"mt-1 text-sm text-red-500"},ce={class:"flex items-center pt-2"},me={class:"space-y-6"},pe=["src"],xe={key:0,class:"mt-1 text-sm text-red-500"},ge={key:1,class:"mt-1 text-sm text-red-500"},be={key:0,class:"mt-1 text-sm text-red-500"},ve={class:"flex justify-end gap-3 pt-4 border-t border-[#2a2a2a]"},fe=["disabled"],_e={__name:"Authors",props:{authors:{type:Array,default:()=>[]},currentWebsite:{type:Object,default:null},websites:{type:Array,default:()=>[]}},setup(m){j();const b=m,p=h(!1),d=h(null),c=h(null),s=B({name:"",email:"",description:"",image:null,image_file:null,is_active:!0,_method:"POST"}),_=n=>{const t=n.target.files[0];if(t){d.value?s.image_file=t:s.image=t;const o=new FileReader;o.onload=f=>{c.value=f.target.result},o.readAsDataURL(t)}},k=()=>{d.value=null,s.reset(),s.clearErrors(),s._method="POST",c.value=null,p.value=!0},A=n=>{d.value=n,s.name=n.name,s.email=n.email||"",s.description=n.description||"",s.image=null,s.image_file=null,s.is_active=n.is_active,s._method="PUT",s.clearErrors(),c.value=n.image,p.value=!0},v=()=>{p.value=!1,d.value=null,s.reset(),s.clearErrors(),c.value=null},M=()=>{d.value?s.post(route("superadmin.authors.update",{website:b.currentWebsite?.id,author:d.value.id}),{onSuccess:()=>{v()},forceFormData:!0}):s.post(route("superadmin.authors.store",{website:b.currentWebsite?.id}),{onSuccess:()=>{v()},forceFormData:!0})},C=n=>{confirm(`Are you sure you want to delete author "${n.name}"?`)&&S.delete(route("superadmin.authors.destroy",{website:b.currentWebsite?.id,author:n.id}),{preserveScroll:!0})};return(n,t)=>(l(),a(x,null,[w(r(P),{title:"Authors"}),w(D,null,{default:U(()=>[e("div",T,[e("div",$,[e("div",null,[t[5]||(t[5]=e("h1",{class:"text-3xl font-bold text-white"},"Authors",-1)),e("p",W,"Manage article authors for "+i(m.currentWebsite?.name),1)]),e("button",{onClick:k,class:"flex items-center gap-2 bg-emerald-500 hover:bg-emerald-600 text-white px-4 py-2 rounded-lg font-medium transition-colors"},[...t[6]||(t[6]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),V(" Add Author ",-1)])])]),m.authors.length>0?(l(),a("div",H,[(l(!0),a(x,null,z(m.authors,o=>(l(),a("div",{key:o.id,class:"bg-[#1a1a1a] rounded-2xl border border-[#2a2a2a] overflow-hidden hover:border-emerald-500 transition-colors"},[e("div",I,[o.image?(l(),a("img",{key:0,src:o.image,alt:o.name,class:"h-full w-full object-cover"},null,8,L)):(l(),a("div",O,[e("div",G,[e("span",J,i(o.name.charAt(0)),1)]),e("span",R,i(o.name),1)]))]),e("div",q,[e("h3",K,i(o.name),1),o.email?(l(),a("p",Q,i(o.email),1)):u("",!0),o.description?(l(),a("p",X,i(o.description),1)):u("",!0),e("div",Y,[e("span",{class:E(["text-xs px-2 py-1 rounded",o.is_active?"bg-green-900 text-green-300":"bg-red-900 text-red-300"])},i(o.is_active?"Active":"Inactive"),3)]),e("div",Z,[e("button",{onClick:f=>A(o),class:"flex-1 px-3 py-2 bg-[#252525] hover:bg-[#303030] text-white rounded-lg text-sm transition-colors"}," Edit ",8,ee),e("button",{onClick:f=>C(o),class:"px-3 py-2 bg-red-600/10 hover:bg-red-600 text-red-600 hover:text-white rounded-lg text-sm transition-colors"},[...t[7]||(t[7]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-4v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,te)])])]))),128))])):(l(),a("div",se,[...t[8]||(t[8]=[e("svg",{class:"w-16 h-16 text-gray-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1),e("p",{class:"text-gray-400 text-lg"},"No authors yet",-1),e("p",{class:"text-gray-500 text-sm mt-2"},"Add your first author to get started",-1)])]))]),p.value?(l(),a("div",oe,[e("div",re,[e("div",ae,[e("h2",le,i(d.value?"Edit Author":"Add New Author"),1)]),e("form",{onSubmit:F(M,["prevent"]),class:"p-6 space-y-6"},[e("div",ie,[e("div",ne,[e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"}," Full Name * ",-1)),g(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>r(s).name=o),type:"text",required:"",class:"w-full px-4 py-2 bg-[#0a0a0a] border border-[#2a2a2a] rounded-lg text-white focus:ring-2 focus:ring-emerald-500",placeholder:"John Doe"},null,512),[[y,r(s).name]]),r(s).errors.name?(l(),a("p",de,i(r(s).errors.name),1)):u("",!0)]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"}," Email Address ",-1)),g(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>r(s).email=o),type:"email",class:"w-full px-4 py-2 bg-[#0a0a0a] border border-[#2a2a2a] rounded-lg text-white focus:ring-2 focus:ring-emerald-500",placeholder:"john@example.com"},null,512),[[y,r(s).email]]),r(s).errors.email?(l(),a("p",ue,i(r(s).errors.email),1)):u("",!0)]),e("div",ce,[g(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>r(s).is_active=o),type:"checkbox",id:"is_active",class:"w-4 h-4 text-emerald-600 bg-[#0a0a0a] border-[#2a2a2a] rounded focus:ring-emerald-500"},null,512),[[N,r(s).is_active]]),t[11]||(t[11]=e("label",{for:"is_active",class:"ml-2 text-sm text-gray-300"}," Active Author ",-1))])]),e("div",me,[e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"}," Author Profile Photo ",-1)),e("div",{onClick:t[3]||(t[3]=o=>n.$refs.imageInput.click()),class:"w-full h-40 bg-[#0a0a0a] border-2 border-dashed border-[#2a2a2a] rounded-xl flex flex-col items-center justify-center cursor-pointer hover:border-emerald-500 transition-colors group relative overflow-hidden"},[c.value?(l(),a(x,{key:0},[e("img",{src:c.value,class:"absolute inset-0 w-full h-full object-cover opacity-50 group-hover:opacity-30 transition-opacity"},null,8,pe),t[12]||(t[12]=e("div",{class:"relative z-10 text-center"},[e("svg",{class:"w-8 h-8 text-white mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})]),e("span",{class:"text-white text-sm font-medium"},"Change Photo")],-1))],64)):(l(),a(x,{key:1},[t[13]||(t[13]=e("svg",{class:"w-10 h-10 text-gray-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),t[14]||(t[14]=e("span",{class:"text-gray-500 text-sm"},"Upload PNG, JPG (Max 2MB)",-1))],64)),e("input",{type:"file",ref:"imageInput",class:"hidden",accept:"image/*",onChange:_},null,544)]),r(s).errors.image?(l(),a("p",xe,i(r(s).errors.image),1)):u("",!0),r(s).errors.image_file?(l(),a("p",ge,i(r(s).errors.image_file),1)):u("",!0)])])]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"}," Biography / Brief Description ",-1)),g(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=o=>r(s).description=o),rows:"4",class:"w-full px-4 py-2 bg-[#0a0a0a] border border-[#2a2a2a] rounded-lg text-white focus:ring-2 focus:ring-emerald-500",placeholder:"Tell us something about the author..."},null,512),[[y,r(s).description]]),r(s).errors.description?(l(),a("p",be,i(r(s).errors.description),1)):u("",!0)]),e("div",ve,[e("button",{type:"button",onClick:v,class:"px-4 py-2 text-gray-300 hover:text-white transition-colors"}," Cancel "),e("button",{type:"submit",disabled:r(s).processing,class:"px-6 py-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg font-medium transition-colors disabled:opacity-50"},i(r(s).processing?"Saving...":d.value?"Update Author":"Create Author"),9,fe)])],32)])])):u("",!0)]),_:1})],64))}};export{_e as default};
