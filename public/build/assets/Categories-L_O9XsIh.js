import{r as f,u as V,g as l,a as v,d as o,h as M,w as A,b as e,i as n,f as S,o as a,F as x,G as y,t as i,n as U,e as j,k as m,H as E,v as c,m as N,J as B}from"./app-BbDxI2lc.js";import{_ as z}from"./SuperAdminLayout-BbSQPXHw.js";const D={class:"p-8"},F={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},$={class:"h-32 bg-gradient-to-br from-emerald-400 to-teal-500 flex items-center justify-center"},T=["src","alt"],q={key:1,class:"text-4xl font-bold text-white"},H={class:"p-6"},I={class:"text-xl font-bold text-white mb-2"},L={key:0,class:"text-gray-400 text-sm mb-3 line-clamp-2"},O={class:"flex items-center gap-2 mb-4"},G={class:"text-xs px-2 py-1 rounded bg-gray-800 text-gray-300"},J={class:"flex gap-2"},R=["onClick"],W=["onClick"],K={key:1,class:"bg-[#1a1a1a] rounded-2xl border border-[#2a2a2a] p-12 text-center"},P={key:0,class:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4"},Q={class:"bg-[#1a1a1a] rounded-2xl border border-[#2a2a2a] max-w-2xl w-full max-h-[90vh] overflow-y-auto"},X={class:"p-6 border-b border-[#2a2a2a]"},Y={class:"text-2xl font-bold text-white"},Z={key:0},ee=["value"],te={key:0,class:"mt-1 text-sm text-red-500"},se={key:0,class:"mt-1 text-sm text-red-500"},re={key:0,class:"mt-1 text-sm text-red-500"},oe={key:0,class:"mt-1 text-sm text-red-500"},le={key:0,class:"mt-1 text-sm text-red-500"},ae={key:0,class:"mt-1 text-sm text-red-500"},ie={class:"flex items-center"},de={class:"flex justify-end gap-3 pt-4 border-t border-[#2a2a2a]"},ne=["disabled"],ce={__name:"Categories",props:{categories:{type:Array,default:()=>[]},websites:{type:Array,default:()=>[]}},setup(b){const p=f(!1),u=f(null),t=V({website_id:"",name:"",slug:"",description:"",image:"",order:0,is_active:!0}),w=()=>{u.value=null,t.reset(),t.clearErrors(),p.value=!0},h=d=>{u.value=d,t.website_id=d.website_id,t.name=d.name,t.slug=d.slug,t.description=d.description||"",t.image=d.image||"",t.order=d.order,t.is_active=d.is_active,t.clearErrors(),p.value=!0},g=()=>{p.value=!1,u.value=null,t.reset(),t.clearErrors()},_=()=>{u.value?t.put(route("superadmin.categories.update",u.value.id),{onSuccess:()=>{g()}}):t.post(route("superadmin.categories.store"),{onSuccess:()=>{g()}})},k=d=>{confirm(`Are you sure you want to delete "${d.name}"? This will also remove it from all articles.`)&&B.delete(route("superadmin.categories.destroy",d.id),{preserveScroll:!0})};return(d,s)=>(a(),l(x,null,[v(o(M),{title:"Categories"}),v(z,null,{default:A(()=>[e("div",D,[e("div",{class:"flex items-center justify-between mb-8"},[s[8]||(s[8]=e("div",null,[e("h1",{class:"text-3xl font-bold text-white"},"Categories"),e("p",{class:"text-gray-400 mt-1"},"Organize your articles by category")],-1)),e("button",{onClick:w,class:"flex items-center gap-2 bg-emerald-500 hover:bg-emerald-600 text-white px-4 py-2 rounded-lg font-medium transition-colors"},[...s[7]||(s[7]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),S(" Add Category ",-1)])])]),b.categories.length>0?(a(),l("div",F,[(a(!0),l(x,null,y(b.categories,r=>(a(),l("div",{key:r.id,class:"bg-[#1a1a1a] rounded-2xl border border-[#2a2a2a] overflow-hidden hover:border-emerald-500 transition-colors"},[e("div",$,[r.image?(a(),l("img",{key:0,src:r.image,alt:r.name,class:"h-full w-full object-cover"},null,8,T)):(a(),l("span",q,i(r.name.charAt(0)),1))]),e("div",H,[e("h3",I,i(r.name),1),r.description?(a(),l("p",L,i(r.description),1)):n("",!0),e("div",O,[e("span",G,i(r.website.name),1),e("span",{class:U(["text-xs px-2 py-1 rounded",r.is_active?"bg-green-900 text-green-300":"bg-red-900 text-red-300"])},i(r.is_active?"Active":"Inactive"),3)]),e("div",J,[e("button",{onClick:C=>h(r),class:"flex-1 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm transition-colors"}," Edit ",8,R),e("button",{onClick:C=>k(r),class:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm transition-colors"}," Delete ",8,W)])])]))),128))])):(a(),l("div",K,[...s[9]||(s[9]=[e("svg",{class:"w-16 h-16 text-gray-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1),e("p",{class:"text-gray-400 text-lg"},"No categories yet",-1),e("p",{class:"text-gray-500 text-sm mt-2"},"Create your first category to organize articles",-1)])]))]),p.value?(a(),l("div",P,[e("div",Q,[e("div",X,[e("h2",Y,i(u.value?"Edit Category":"Add New Category"),1)]),e("form",{onSubmit:j(_,["prevent"]),class:"p-6 space-y-6"},[u.value?n("",!0):(a(),l("div",Z,[s[11]||(s[11]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"}," Website * ",-1)),m(e("select",{"onUpdate:modelValue":s[0]||(s[0]=r=>o(t).website_id=r),required:"",class:"w-full px-4 py-2 bg-[#0a0a0a] border border-[#2a2a2a] rounded-lg text-white focus:ring-2 focus:ring-emerald-500"},[s[10]||(s[10]=e("option",{value:""},"Select a website",-1)),(a(!0),l(x,null,y(b.websites,r=>(a(),l("option",{key:r.id,value:r.id},i(r.name),9,ee))),128))],512),[[E,o(t).website_id]]),o(t).errors.website_id?(a(),l("p",te,i(o(t).errors.website_id),1)):n("",!0)])),e("div",null,[s[12]||(s[12]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"}," Category Name * ",-1)),m(e("input",{"onUpdate:modelValue":s[1]||(s[1]=r=>o(t).name=r),type:"text",required:"",class:"w-full px-4 py-2 bg-[#0a0a0a] border border-[#2a2a2a] rounded-lg text-white focus:ring-2 focus:ring-emerald-500",placeholder:"e.g., Comfort Classics"},null,512),[[c,o(t).name]]),o(t).errors.name?(a(),l("p",se,i(o(t).errors.name),1)):n("",!0)]),e("div",null,[s[13]||(s[13]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"}," Slug (optional) ",-1)),m(e("input",{"onUpdate:modelValue":s[2]||(s[2]=r=>o(t).slug=r),type:"text",class:"w-full px-4 py-2 bg-[#0a0a0a] border border-[#2a2a2a] rounded-lg text-white focus:ring-2 focus:ring-emerald-500",placeholder:"Auto-generated from name if empty"},null,512),[[c,o(t).slug]]),o(t).errors.slug?(a(),l("p",re,i(o(t).errors.slug),1)):n("",!0)]),e("div",null,[s[14]||(s[14]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"}," Description ",-1)),m(e("textarea",{"onUpdate:modelValue":s[3]||(s[3]=r=>o(t).description=r),rows:"3",class:"w-full px-4 py-2 bg-[#0a0a0a] border border-[#2a2a2a] rounded-lg text-white focus:ring-2 focus:ring-emerald-500",placeholder:"Brief description of this category"},null,512),[[c,o(t).description]]),o(t).errors.description?(a(),l("p",oe,i(o(t).errors.description),1)):n("",!0)]),e("div",null,[s[15]||(s[15]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"}," Image URL ",-1)),m(e("input",{"onUpdate:modelValue":s[4]||(s[4]=r=>o(t).image=r),type:"url",class:"w-full px-4 py-2 bg-[#0a0a0a] border border-[#2a2a2a] rounded-lg text-white focus:ring-2 focus:ring-emerald-500",placeholder:"https://example.com/image.jpg"},null,512),[[c,o(t).image]]),o(t).errors.image?(a(),l("p",le,i(o(t).errors.image),1)):n("",!0)]),e("div",null,[s[16]||(s[16]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"}," Display Order ",-1)),m(e("input",{"onUpdate:modelValue":s[5]||(s[5]=r=>o(t).order=r),type:"number",class:"w-full px-4 py-2 bg-[#0a0a0a] border border-[#2a2a2a] rounded-lg text-white focus:ring-2 focus:ring-emerald-500",placeholder:"0"},null,512),[[c,o(t).order,void 0,{number:!0}]]),o(t).errors.order?(a(),l("p",ae,i(o(t).errors.order),1)):n("",!0)]),e("div",ie,[m(e("input",{"onUpdate:modelValue":s[6]||(s[6]=r=>o(t).is_active=r),type:"checkbox",id:"is_active",class:"w-4 h-4 text-emerald-600 bg-[#0a0a0a] border-[#2a2a2a] rounded focus:ring-emerald-500"},null,512),[[N,o(t).is_active]]),s[17]||(s[17]=e("label",{for:"is_active",class:"ml-2 text-sm text-gray-300"}," Active (visible on website) ",-1))]),e("div",de,[e("button",{type:"button",onClick:g,class:"px-4 py-2 text-gray-300 hover:text-white transition-colors"}," Cancel "),e("button",{type:"submit",disabled:o(t).processing,class:"px-6 py-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg font-medium transition-colors disabled:opacity-50"},i(o(t).processing?"Saving...":u.value?"Update Category":"Create Category"),9,ne)])],32)])])):n("",!0)]),_:1})],64))}};export{ce as default};
