import{y as z,r as G,u as S,g as r,a as c,d as o,h as I,w as f,b as e,i as g,o as a,f as u,p as h,t as m,e as P,k as b,v as w,z as k,m as L,F as x,x as _,n as T}from"./app-E9L50dUX.js";import{_ as U}from"./OrganizationLayout-BLqzTtbg.js";import{_ as W}from"./ImageUpload-DzN-m5Ay.js";import"./AIJobsNotification-BLnXsLx0.js";const F={class:"p-8"},$={key:0,class:"bg-yellow-900/50 border border-yellow-500 text-yellow-200 px-6 py-4 rounded-lg mb-6"},N={class:"flex items-center justify-between"},K={key:1,class:"bg-red-900/50 border border-red-500 text-red-200 px-6 py-4 rounded-lg mb-6"},O={class:"flex items-center gap-3"},H={key:2,class:"bg-emerald-900/50 border border-emerald-500 text-emerald-200 px-6 py-4 rounded-lg mb-6"},q={class:"flex items-center gap-3"},D={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},E={class:"lg:col-span-2 space-y-8"},J={class:"bg-[#1a1a1a] rounded-2xl border border-[#2a2a2a] p-8"},Q={key:0,class:"mt-1 text-sm text-red-500"},R={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},X={class:"flex items-end"},Y={class:"flex items-center cursor-pointer"},Z={class:"space-y-4"},ee={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},te={class:"absolute -top-2 -right-2 z-10 opacity-0 group-hover:opacity-100 transition-opacity"},se=["onClick"],oe={class:"flex justify-end pt-4 border-t border-[#2a2a2a]"},le=["disabled"],re={key:0,class:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24"},ae={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ie={class:"lg:col-span-1"},ne={class:"bg-[#1a1a1a] rounded-2xl border border-[#2a2a2a] overflow-hidden sticky top-24"},de={class:"max-h-[500px] overflow-y-auto p-2"},ue={key:0,class:"p-8 text-center"},me={key:1,class:"space-y-1"},pe=["onClick"],ce={class:"shrink-0"},ge={key:0,class:"w-5 h-5 bg-emerald-500 rounded flex items-center justify-center"},be={key:1,class:"w-5 h-5 border-2 border-[#3a3a3a] rounded"},fe={class:"w-8 h-8 bg-gradient-to-br from-amber-500 to-yellow-500 rounded flex items-center justify-center shrink-0"},xe={class:"text-white text-xs font-bold"},ve={class:"flex-1 min-w-0"},ye={class:"text-sm font-medium truncate"},Ce={__name:"GlobalArticles",props:{websites:{type:Array,default:()=>[]},hasApiKey:{type:Boolean,default:!1},defaultTone:{type:String,default:"conversational"}},setup(p){z();const v=p,n=G([]),s=S({topic:"",tone:v.defaultTone,length:"medium",keywords:"",featured_images:[""],auto_publish:!1,website_ids:[]}),C=()=>{s.featured_images.push("")},A=i=>{s.featured_images.splice(i,1)},M=i=>{const t=n.value.indexOf(i);t===-1?n.value.push(i):n.value.splice(t,1)},j=()=>{n.value=v.websites.map(i=>i.id)},B=()=>{n.value=[]},V=()=>{s.website_ids=n.value,s.post(route("organization.global-articles.generate"),{onSuccess:()=>{s.reset("topic","keywords")}})};return(i,t)=>(a(),r(x,null,[c(o(I),{title:"Global Article Generation"}),c(U,null,{default:f(()=>[e("div",F,[t[28]||(t[28]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-white mb-2"},"Global Article Generator"),e("p",{class:"text-gray-400"},"Generate an article once and push it automatically to multiple websites")],-1)),p.hasApiKey?g("",!0):(a(),r("div",$,[e("div",N,[t[6]||(t[6]=e("div",{class:"flex items-center gap-3"},[e("svg",{class:"w-5 h-5 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),e("span",null,[e("strong",null,"OpenAI API key not configured."),u(" Please add your API key in Global Settings to use AI generation.")])],-1)),c(o(h),{href:i.route("organization.settings"),class:"px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg text-sm font-medium transition-colors"},{default:f(()=>[...t[5]||(t[5]=[u(" Go to Settings ",-1)])]),_:1},8,["href"])])])),o(s).errors.error?(a(),r("div",K,[e("div",O,[t[7]||(t[7]=e("svg",{class:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,m(o(s).errors.error),1)])])):g("",!0),i.$page.props.flash?.success?(a(),r("div",H,[e("div",q,[t[8]||(t[8]=e("svg",{class:"w-5 h-5 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),e("span",null,m(i.$page.props.flash.success),1)])])):g("",!0),e("div",D,[e("div",E,[e("div",J,[e("form",{onSubmit:P(V,["prevent"]),class:"space-y-6"},[e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"}," Article Topic * ",-1)),b(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>o(s).topic=l),type:"text",required:"",placeholder:"e.g., 'Best Italian Pasta Recipes for Beginners'",class:"w-full px-4 py-3 bg-[#0a0a0a] border border-[#2a2a2a] rounded-lg text-white focus:ring-2 focus:ring-emerald-500 text-lg"},null,512),[[w,o(s).topic]]),o(s).errors.topic?(a(),r("p",Q,m(o(s).errors.topic),1)):g("",!0),t[10]||(t[10]=e("p",{class:"mt-1 text-xs text-gray-500"},"The AI will generate one article and push it to all selected websites.",-1))]),e("div",R,[e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"}," Article Length ",-1)),b(e("select",{"onUpdate:modelValue":t[1]||(t[1]=l=>o(s).length=l),class:"w-full px-4 py-2 bg-[#0a0a0a] border border-[#2a2a2a] rounded-lg text-white focus:ring-2 focus:ring-emerald-500"},[...t[11]||(t[11]=[e("option",{value:"short"},"Short (500-700 words)",-1),e("option",{value:"medium"},"Medium (1000-1500 words)",-1),e("option",{value:"long"},"Long (2000-3000 words)",-1)])],512),[[k,o(s).length]])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"}," Writing Tone ",-1)),b(e("select",{"onUpdate:modelValue":t[2]||(t[2]=l=>o(s).tone=l),class:"w-full px-4 py-2 bg-[#0a0a0a] border border-[#2a2a2a] rounded-lg text-white focus:ring-2 focus:ring-emerald-500"},[...t[13]||(t[13]=[e("option",{value:"conversational"},"Conversational",-1),e("option",{value:"professional"},"Professional",-1),e("option",{value:"casual"},"Casual",-1),e("option",{value:"friendly"},"Friendly",-1),e("option",{value:"formal"},"Formal",-1)])],512),[[k,o(s).tone]])]),e("div",X,[e("label",Y,[b(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>o(s).auto_publish=l),type:"checkbox",class:"w-4 h-4 text-emerald-600 bg-[#0a0a0a] border-[#2a2a2a] rounded focus:ring-emerald-500"},null,512),[[L,o(s).auto_publish]]),t[15]||(t[15]=e("span",{class:"ml-2 text-sm text-gray-300"},"Auto-publish article",-1))])])]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"}," Keywords (Optional) ",-1)),b(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>o(s).keywords=l),type:"text",placeholder:"e.g., italian cuisine, pasta, cooking tips",class:"w-full px-4 py-2 bg-[#0a0a0a] border border-[#2a2a2a] rounded-lg text-white focus:ring-2 focus:ring-emerald-500"},null,512),[[w,o(s).keywords]]),t[17]||(t[17]=e("p",{class:"mt-1 text-xs text-gray-500"},"Separate keywords with commas",-1))]),e("div",Z,[e("div",{class:"flex items-center justify-between"},[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-300"}," Featured Images (Optional) ",-1)),e("button",{type:"button",onClick:C,class:"text-xs text-emerald-400 hover:text-emerald-300 font-medium flex items-center gap-1"},[...t[18]||(t[18]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),u(" Add another image ",-1)])])]),t[21]||(t[21]=e("p",{class:"text-xs text-gray-500"},"These images will be distributed sequentially to the selected websites.",-1)),e("div",ee,[(a(!0),r(x,null,_(o(s).featured_images,(l,d)=>(a(),r("div",{key:d,class:"relative group"},[e("div",te,[o(s).featured_images.length>1?(a(),r("button",{key:0,type:"button",onClick:y=>A(d),class:"w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center shadow-lg"},[...t[20]||(t[20]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,se)):g("",!0)]),c(W,{modelValue:o(s).featured_images[d],"onUpdate:modelValue":y=>o(s).featured_images[d]=y,label:`Image #${d+1}`,type:"article",hint:"PNG, JPG, WebP","allow-url":!0},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))])]),e("div",oe,[e("button",{type:"submit",disabled:o(s).processing||!p.hasApiKey||n.value.length===0,class:"px-8 py-3 bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600 text-white rounded-lg font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"},[o(s).processing?(a(),r("svg",re,[...t[22]||(t[22]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(a(),r("svg",ae,[...t[23]||(t[23]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"},null,-1)])])),u(" "+m(o(s).processing?"Queueing...":"Generate & Push to "+n.value.length+" Websites"),1)],8,le)])],32)])]),e("div",ie,[e("div",ne,[e("div",{class:"p-6 border-b border-[#2a2a2a] bg-[#1f1f1f]"},[t[24]||(t[24]=e("h3",{class:"text-white font-bold flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-emerald-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})]),u(" Select Websites ")],-1)),e("div",{class:"flex items-center justify-between mt-4"},[e("button",{onClick:j,class:"text-xs text-emerald-400 hover:text-emerald-300 font-medium"},"Select All"),e("button",{onClick:B,class:"text-xs text-gray-500 hover:text-gray-400 font-medium"},"Clear All")])]),e("div",de,[p.websites.length===0?(a(),r("div",ue,[t[26]||(t[26]=e("p",{class:"text-gray-500 text-sm"},"No websites found.",-1)),c(o(h),{href:i.route("organization.websites.create"),class:"text-emerald-400 text-sm mt-2 inline-block"},{default:f(()=>[...t[25]||(t[25]=[u("Create your first website",-1)])]),_:1},8,["href"])])):(a(),r("div",me,[(a(!0),r(x,null,_(p.websites,l=>(a(),r("div",{key:l.id,onClick:d=>M(l.id),class:T(["flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all border",n.value.includes(l.id)?"bg-emerald-500/10 border-emerald-500/50 text-white":"bg-transparent border-transparent text-gray-400 hover:bg-[#252525] hover:text-white"])},[e("div",ce,[n.value.includes(l.id)?(a(),r("div",ge,[...t[27]||(t[27]=[e("svg",{class:"w-3.5 h-3.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"})],-1)])])):(a(),r("div",be))]),e("div",fe,[e("span",xe,m(l.name.charAt(0).toUpperCase()),1)]),e("div",ve,[e("p",ye,m(l.name),1)])],10,pe))),128))]))])])])])])]),_:1})],64))}};export{Ce as default};
