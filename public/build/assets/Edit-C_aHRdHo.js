import{y as _,u as h,c as V,w as g,a as c,b as t,d as s,h as U,g as a,i as n,p as x,f as y,o as i,t as u,e as C,k as d,F as T,x as A,z as M,v as m,L as f,B as S}from"./app-C_5C-QKO.js";import{_ as B}from"./SuperAdminLayout-BZUEb-Me.js";import{_ as w}from"./ImageUpload-CFbExSVi.js";import"./AIJobsNotification-B--1qeJ4.js";const j={class:"p-8"},L={class:"max-w-4xl"},W={class:"mb-8"},D={key:0,class:"bg-emerald-900/50 border border-emerald-500 text-emerald-200 px-6 py-4 rounded-lg mb-6"},E={class:"flex items-center gap-3"},P={key:1,class:"bg-gradient-to-r from-purple-900/30 to-indigo-900/30 border border-purple-800/50 rounded-lg p-4 mb-6"},$={class:"bg-[#1a1a1a] rounded-2xl border border-[#2a2a2a] p-8"},F={class:"mb-6"},I=["value"],N={key:0,class:"mt-2 text-sm text-red-500"},R={class:"mb-6"},q={key:0,class:"mt-2 text-sm text-red-500"},z={class:"mb-6"},H={key:0,class:"mt-2 text-sm text-red-500"},O={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},G={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"},Y={class:"mb-6"},J={key:0,class:"mt-2 text-sm text-red-500"},K={class:"mb-6"},Q={key:0,class:"mt-2 text-sm text-red-500"},X={class:"mb-6"},Z={class:"flex gap-6"},ee={class:"flex items-center cursor-pointer"},te={class:"flex items-center cursor-pointer"},se={class:"flex items-center cursor-pointer"},re={key:0,class:"mt-2 text-sm text-red-500"},le={key:0,class:"mb-6"},oe={key:0,class:"mt-2 text-sm text-red-500"},ie={class:"flex items-center justify-between"},ae={class:"flex gap-4"},de=["disabled"],ne={key:0},ue={key:1},ge={__name:"Edit",props:{article:Object,currentWebsite:Object,websites:Array},setup(p){_();const o=p,r=h({category_id:o.article.category_id||"",title:o.article.title||"",slug:o.article.slug||"",excerpt:o.article.excerpt||"",content:o.article.content||"",featured_image:o.article.featured_image||"",secondary_image:o.article.secondary_image||"",prep_time:o.article.prep_time||"",cook_time:o.article.cook_time||"",rest_time:o.article.rest_time||"",total_time:o.article.total_time||"",status:o.article.status||"draft",published_at:o.article.published_at?o.article.published_at.substring(0,16):""}),v=()=>{r.put(route("superadmin.articles.update",{website:o.currentWebsite?.id,article:o.article.id}))},k=()=>{confirm(`Are you sure you want to delete "${o.article.title}"?`)&&S.delete(route("superadmin.articles.destroy",{website:o.currentWebsite?.id,article:o.article.id}))};return(b,e)=>(i(),V(B,null,{default:g(()=>[c(s(U),{title:"Edit: "+p.article.title},null,8,["title"]),t("div",j,[t("div",L,[t("div",W,[c(s(x),{href:b.route("superadmin.articles.show",{website:p.currentWebsite?.id,article:p.article.id}),class:"text-gray-400 hover:text-white flex items-center text-sm"},{default:g(()=>[...e[15]||(e[15]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),y(" Back to Article ",-1)])]),_:1},8,["href"])]),b.$page.props.flash?.success?(i(),a("div",D,[t("div",E,[e[16]||(e[16]=t("svg",{class:"w-5 h-5 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),t("span",null,u(b.$page.props.flash.success),1)])])):n("",!0),p.article.ai_generated?(i(),a("div",P,[...e[17]||(e[17]=[t("div",{class:"flex items-center gap-3"},[t("div",{class:"w-10 h-10 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])]),t("div",null,[t("h4",{class:"text-purple-300 font-medium"},"AI-Generated Article"),t("p",{class:"text-sm text-purple-200/70"},"This article was generated by AI. Review and edit before publishing.")])],-1)])])):n("",!0),t("div",$,[e[35]||(e[35]=t("h1",{class:"text-3xl font-bold text-white mb-8"},"Edit Article",-1)),t("form",{onSubmit:C(v,["prevent"])},[t("div",F,[e[19]||(e[19]=t("label",{for:"category_id",class:"block text-sm font-medium text-gray-300 mb-2"}," Category ",-1)),d(t("select",{id:"category_id","onUpdate:modelValue":e[0]||(e[0]=l=>s(r).category_id=l),class:"w-full bg-[#252525] border border-[#3a3a3a] text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"},[e[18]||(e[18]=t("option",{value:""},"Select a category",-1)),(i(!0),a(T,null,A(p.currentWebsite?.categories,l=>(i(),a("option",{key:l.id,value:l.id},u(l.name),9,I))),128))],512),[[M,s(r).category_id]]),s(r).errors.category_id?(i(),a("p",N,u(s(r).errors.category_id),1)):n("",!0)]),t("div",R,[e[20]||(e[20]=t("label",{for:"title",class:"block text-sm font-medium text-gray-300 mb-2"}," Title * ",-1)),d(t("input",{id:"title","onUpdate:modelValue":e[1]||(e[1]=l=>s(r).title=l),type:"text",class:"w-full bg-[#252525] border border-[#3a3a3a] text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500",required:""},null,512),[[m,s(r).title]]),s(r).errors.title?(i(),a("p",q,u(s(r).errors.title),1)):n("",!0)]),t("div",z,[e[21]||(e[21]=t("label",{for:"slug",class:"block text-sm font-medium text-gray-300 mb-2"}," Slug (URL) ",-1)),d(t("input",{id:"slug","onUpdate:modelValue":e[2]||(e[2]=l=>s(r).slug=l),type:"text",class:"w-full bg-[#252525] border border-[#3a3a3a] text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"},null,512),[[m,s(r).slug]]),s(r).errors.slug?(i(),a("p",H,u(s(r).errors.slug),1)):n("",!0)]),t("div",O,[c(w,{modelValue:s(r).featured_image,"onUpdate:modelValue":e[3]||(e[3]=l=>s(r).featured_image=l),label:"Featured Image",type:"article",hint:"Primary image shown on cards","allow-url":!0},null,8,["modelValue"]),c(w,{modelValue:s(r).secondary_image,"onUpdate:modelValue":e[4]||(e[4]=l=>s(r).secondary_image=l),label:"Secondary Image",type:"article",hint:"Middle of article image","allow-url":!0},null,8,["modelValue"])]),t("div",G,[t("div",null,[e[22]||(e[22]=t("label",{for:"prep_time",class:"block text-sm font-medium text-gray-300 mb-2"},"Prep Time",-1)),d(t("input",{id:"prep_time","onUpdate:modelValue":e[5]||(e[5]=l=>s(r).prep_time=l),type:"text",class:"w-full bg-[#252525] border border-[#3a3a3a] text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"e.g. 10 mins"},null,512),[[m,s(r).prep_time]])]),t("div",null,[e[23]||(e[23]=t("label",{for:"cook_time",class:"block text-sm font-medium text-gray-300 mb-2"},"Cook Time",-1)),d(t("input",{id:"cook_time","onUpdate:modelValue":e[6]||(e[6]=l=>s(r).cook_time=l),type:"text",class:"w-full bg-[#252525] border border-[#3a3a3a] text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"e.g. 20 mins"},null,512),[[m,s(r).cook_time]])]),t("div",null,[e[24]||(e[24]=t("label",{for:"rest_time",class:"block text-sm font-medium text-gray-300 mb-2"},"Rest Time",-1)),d(t("input",{id:"rest_time","onUpdate:modelValue":e[7]||(e[7]=l=>s(r).rest_time=l),type:"text",class:"w-full bg-[#252525] border border-[#3a3a3a] text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"e.g. 5 mins"},null,512),[[m,s(r).rest_time]])]),t("div",null,[e[25]||(e[25]=t("label",{for:"total_time",class:"block text-sm font-medium text-gray-300 mb-2"},"Total Time",-1)),d(t("input",{id:"total_time","onUpdate:modelValue":e[8]||(e[8]=l=>s(r).total_time=l),type:"text",class:"w-full bg-[#252525] border border-[#3a3a3a] text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"e.g. 35 mins"},null,512),[[m,s(r).total_time]])])]),t("div",Y,[e[26]||(e[26]=t("label",{for:"excerpt",class:"block text-sm font-medium text-gray-300 mb-2"}," Excerpt ",-1)),d(t("textarea",{id:"excerpt","onUpdate:modelValue":e[9]||(e[9]=l=>s(r).excerpt=l),rows:"3",class:"w-full bg-[#252525] border border-[#3a3a3a] text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"A brief summary of the article..."},null,512),[[m,s(r).excerpt]]),s(r).errors.excerpt?(i(),a("p",J,u(s(r).errors.excerpt),1)):n("",!0)]),t("div",K,[e[27]||(e[27]=t("label",{for:"content",class:"block text-sm font-medium text-gray-300 mb-2"}," Content * ",-1)),d(t("textarea",{id:"content","onUpdate:modelValue":e[10]||(e[10]=l=>s(r).content=l),rows:"15",class:"w-full bg-[#252525] border border-[#3a3a3a] text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 font-mono text-sm",placeholder:"Write your article content here... (HTML supported)",required:""},null,512),[[m,s(r).content]]),e[28]||(e[28]=t("p",{class:"mt-1 text-sm text-gray-500"},"You can use HTML for formatting.",-1)),s(r).errors.content?(i(),a("p",Q,u(s(r).errors.content),1)):n("",!0)]),t("div",X,[e[32]||(e[32]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"}," Status * ",-1)),t("div",Z,[t("label",ee,[d(t("input",{type:"radio","onUpdate:modelValue":e[11]||(e[11]=l=>s(r).status=l),value:"draft",class:"mr-2 accent-emerald-500"},null,512),[[f,s(r).status]]),e[29]||(e[29]=t("span",{class:"text-gray-300"},"Draft",-1))]),t("label",te,[d(t("input",{type:"radio","onUpdate:modelValue":e[12]||(e[12]=l=>s(r).status=l),value:"published",class:"mr-2 accent-emerald-500"},null,512),[[f,s(r).status]]),e[30]||(e[30]=t("span",{class:"text-gray-300"},"Published",-1))]),t("label",se,[d(t("input",{type:"radio","onUpdate:modelValue":e[13]||(e[13]=l=>s(r).status=l),value:"scheduled",class:"mr-2 accent-emerald-500"},null,512),[[f,s(r).status]]),e[31]||(e[31]=t("span",{class:"text-gray-300"},"Scheduled",-1))])]),s(r).errors.status?(i(),a("p",re,u(s(r).errors.status),1)):n("",!0)]),s(r).status==="scheduled"?(i(),a("div",le,[e[33]||(e[33]=t("label",{for:"published_at",class:"block text-sm font-medium text-gray-300 mb-2"}," Publish Date ",-1)),d(t("input",{id:"published_at","onUpdate:modelValue":e[14]||(e[14]=l=>s(r).published_at=l),type:"datetime-local",class:"w-full bg-[#252525] border border-[#3a3a3a] text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"},null,512),[[m,s(r).published_at]]),s(r).errors.published_at?(i(),a("p",oe,u(s(r).errors.published_at),1)):n("",!0)])):n("",!0),t("div",ie,[t("button",{type:"button",onClick:k,class:"px-6 py-2 text-red-400 hover:text-red-300 transition"}," Delete Article "),t("div",ae,[c(s(x),{href:b.route("superadmin.articles.show",{website:p.currentWebsite?.id,article:p.article.id}),class:"px-6 py-2 text-gray-400 hover:text-white transition"},{default:g(()=>[...e[34]||(e[34]=[y(" Cancel ",-1)])]),_:1},8,["href"]),t("button",{type:"submit",disabled:s(r).processing,class:"px-6 py-3 bg-emerald-500 text-white font-semibold rounded-lg hover:bg-emerald-600 transition disabled:opacity-50 disabled:cursor-not-allowed"},[s(r).processing?(i(),a("span",ne,"Saving...")):(i(),a("span",ue,"Save Changes"))],8,de)])])],32)])])])]),_:1}))}};export{ge as default};
