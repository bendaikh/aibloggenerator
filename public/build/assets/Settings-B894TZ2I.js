import{u as w,r as b,g as l,a as y,d as o,h,w as _,b as e,i,o as n,t as c,e as C,k as g,v as T,f as m,n as S,z as v,F as A}from"./app-Czz3J-IT.js";import{_ as M}from"./OrganizationLayout-BpSrUmVH.js";import"./AIJobsNotification-BXeGqLt1.js";const j={class:"p-8"},V={key:0,class:"bg-emerald-900/50 border border-emerald-500 text-emerald-200 px-6 py-4 rounded-lg mb-6"},z={class:"flex items-center gap-3"},B={class:"space-y-6"},F={class:"bg-[#1a1a1a] rounded-2xl border border-[#2a2a2a] p-6"},I={class:"space-y-4"},P={class:"flex gap-3"},G={class:"flex-1 relative"},O=["placeholder"],q={key:0,class:"absolute right-3 top-1/2 -translate-y-1/2"},D=["disabled"],L={key:0,class:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},N={key:0,class:"mt-1 text-sm text-red-500"},R={class:"flex items-center gap-2"},H={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},$={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},E={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},U={class:"flex justify-end"},X=["disabled"],K={key:0,class:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},Q={__name:"Settings",props:{settings:{type:Object,default:()=>({})}},setup(d){const f=d,s=w({openai_api_key:"",ai_model:f.settings.ai_model||"gpt-4o",ai_default_tone:f.settings.ai_default_tone||"conversational"}),u=b(!1),a=b(null),x=()=>{s.post(route("organization.settings.update"),{preserveScroll:!0,onSuccess:()=>{s.openai_api_key=""}})},k=async()=>{u.value=!0,a.value=null;try{const r=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||document.head.querySelector('meta[name="csrf-token"]')?.content||"",t=await fetch("/organization/settings/test",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":r,"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);a.value=await t.json()}catch(r){a.value={success:!1,message:"Failed to test connection: "+r.message}}finally{u.value=!1}};return(r,t)=>(n(),l(A,null,[y(o(h),{title:"Global Settings"}),y(M,null,{default:_(()=>[e("div",j,[t[18]||(t[18]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-white"},"Global Settings"),e("p",{class:"text-gray-400 mt-1"},"Configure settings that apply to all your websites")],-1)),r.$page.props.flash?.success?(n(),l("div",V,[e("div",z,[t[3]||(t[3]=e("svg",{class:"w-5 h-5 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),e("span",null,c(r.$page.props.flash.success),1)])])):i("",!0),e("form",{onSubmit:C(x,["prevent"])},[e("div",B,[e("div",F,[t[16]||(t[16]=e("div",{class:"flex items-center gap-3 mb-6"},[e("div",{class:"w-10 h-10 bg-gradient-to-br from-emerald-500 to-teal-500 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])]),e("div",null,[e("h3",{class:"text-lg font-semibold text-white"},"AI Content Generation"),e("p",{class:"text-gray-400 text-sm"},"Connect your OpenAI account to generate articles with AI across all websites")])],-1)),e("div",I,[e("div",null,[t[8]||(t[8]=e("label",{class:"text-gray-400 text-sm block mb-2"},"OpenAI API Key",-1)),e("div",P,[e("div",G,[g(e("input",{"onUpdate:modelValue":t[0]||(t[0]=p=>o(s).openai_api_key=p),type:"password",placeholder:d.settings.openai_api_key_set?d.settings.openai_api_key_masked+" (saved - enter new key to update)":"sk-proj-...",class:"w-full bg-[#252525] border border-[#3a3a3a] text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"},null,8,O),[[T,o(s).openai_api_key]]),d.settings.openai_api_key_set?(n(),l("div",q,[...t[4]||(t[4]=[e("span",{class:"px-2 py-1 bg-emerald-900 text-emerald-300 text-xs rounded"},"Connected",-1)])])):i("",!0)]),e("button",{type:"button",onClick:k,disabled:u.value||!d.settings.openai_api_key_set,class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"},[u.value?(n(),l("svg",L,[...t[5]||(t[5]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):i("",!0),m(" "+c(u.value?"Testing...":"Test Connection"),1)],8,D)]),o(s).errors.openai_api_key?(n(),l("p",N,c(o(s).errors.openai_api_key),1)):i("",!0),t[9]||(t[9]=e("p",{class:"text-gray-500 text-xs mt-2"},[m(" Get your API key from "),e("a",{href:"https://platform.openai.com/api-keys",target:"_blank",class:"text-emerald-400 hover:underline"},"OpenAI Dashboard"),m(". Your key is encrypted and stored securely. ")],-1)),a.value?(n(),l("div",{key:1,class:S(["mt-3 px-4 py-3 rounded-lg",a.value.success?"bg-emerald-900/50 border border-emerald-500 text-emerald-200":"bg-red-900/50 border border-red-500 text-red-200"])},[e("div",R,[a.value.success?(n(),l("svg",H,[...t[6]||(t[6]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):(n(),l("svg",$,[...t[7]||(t[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])])),e("span",null,c(a.value.message),1)])],2)):i("",!0)]),e("div",E,[e("div",null,[t[11]||(t[11]=e("label",{class:"text-gray-400 text-sm block mb-2"},"Default AI Model",-1)),g(e("select",{"onUpdate:modelValue":t[1]||(t[1]=p=>o(s).ai_model=p),class:"w-full bg-[#252525] border border-[#3a3a3a] text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"},[...t[10]||(t[10]=[e("option",{value:"gpt-4o"},"GPT-4o (Recommended)",-1),e("option",{value:"gpt-4-turbo"},"GPT-4 Turbo",-1),e("option",{value:"gpt-3.5-turbo"},"GPT-3.5 Turbo (Faster, cheaper)",-1)])],512),[[v,o(s).ai_model]]),t[12]||(t[12]=e("p",{class:"text-gray-500 text-xs mt-1"},"GPT-4o provides the best quality for content generation",-1))]),e("div",null,[t[14]||(t[14]=e("label",{class:"text-gray-400 text-sm block mb-2"},"Default Content Tone",-1)),g(e("select",{"onUpdate:modelValue":t[2]||(t[2]=p=>o(s).ai_default_tone=p),class:"w-full bg-[#252525] border border-[#3a3a3a] text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"},[...t[13]||(t[13]=[e("option",{value:"conversational"},"Conversational",-1),e("option",{value:"professional"},"Professional",-1),e("option",{value:"casual"},"Casual",-1),e("option",{value:"friendly"},"Friendly",-1),e("option",{value:"formal"},"Formal",-1)])],512),[[v,o(s).ai_default_tone]]),t[15]||(t[15]=e("p",{class:"text-gray-500 text-xs mt-1"},"This will be the default tone for new AI articles",-1))])])])]),e("div",U,[e("button",{type:"submit",disabled:o(s).processing,class:"bg-emerald-500 hover:bg-emerald-600 text-white px-6 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center gap-2"},[o(s).processing?(n(),l("svg",K,[...t[17]||(t[17]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):i("",!0),m(" "+c(o(s).processing?"Saving...":"Save Settings"),1)],8,X)])])],32)])]),_:1})],64))}};export{Q as default};
