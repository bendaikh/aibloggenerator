import{y as N,r as h,q as D,g as n,a as m,d as x,h as F,w as b,b as e,i as d,o,f,t as l,p as k,F as w,x as M,n as V,c as W,k as O,m as E,e as I,B as P}from"./app-D6gT4oB1.js";import{_ as U}from"./SuperAdminLayout-BrmSJ9-o.js";import"./AIJobsNotification-DHqgW2zd.js";const Y={class:"p-8"},q={class:"flex items-center justify-between mb-8"},R={class:"flex items-center gap-3"},J={key:0,class:"bg-emerald-900/50 border border-emerald-500 text-emerald-200 px-6 py-4 rounded-xl mb-6"},K={class:"flex items-center gap-3"},Q={key:1,class:"bg-red-900/50 border border-red-500 text-red-200 px-6 py-4 rounded-xl mb-6"},X={class:"flex items-center gap-3"},Z={key:2,class:"bg-[#1a1a1a] rounded-2xl border border-[#2a2a2a] p-12 text-center"},ee={key:3,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},te={class:"relative aspect-[2/3] bg-[#0f0f0f]"},se=["src","alt"],oe={key:1,class:"w-full h-full flex items-center justify-center"},re={key:0,class:"text-center"},ne={key:1,class:"text-center px-4"},le={class:"text-gray-500 text-xs mt-1"},ie={key:2,class:"text-center"},ae={class:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-3"},de=["onClick"],ue=["onClick"],ce=["onClick"],he=["onClick"],ge={class:"absolute top-3 right-3"},xe={class:"p-4"},pe={class:"text-white font-medium truncate mb-1"},ve={class:"text-gray-500 text-sm truncate"},me={class:"flex items-center justify-between mt-3 pt-3 border-t border-[#2a2a2a]"},be={class:"text-gray-500 text-xs"},fe={key:4,class:"mt-8 flex justify-center gap-2"},ke={key:0,class:"fixed inset-0 z-50 flex items-center justify-center"},we={key:1,class:"fixed inset-0 z-50 flex items-center justify-center"},ye={class:"relative bg-[#1a1a1a] rounded-2xl border border-[#2a2a2a] p-6 max-w-2xl w-full mx-4 max-h-[80vh] flex flex-col"},Ce={class:"flex items-center gap-3 mb-4 pb-4 border-b border-[#2a2a2a]"},_e={class:"text-white font-medium"},Me={class:"flex-1 overflow-y-auto space-y-2 mb-4"},Pe=["onClick"],je=["checked","onChange"],Be=["src","alt"],De={key:1,class:"w-12 h-12 rounded-lg bg-[#1a1a1a] flex items-center justify-center"},Ve={class:"flex-1 min-w-0"},We={class:"text-white font-medium truncate"},$e={class:"text-gray-500 text-sm"},Le={class:"flex items-center justify-between pt-4 border-t border-[#2a2a2a]"},ze={class:"text-gray-400 text-sm"},He={class:"flex gap-3"},Ae=["disabled"],Ge={key:0,class:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24"},Fe={__name:"Index",props:{currentWebsite:{type:Object,default:null},pins:{type:Object,default:()=>({data:[]})},articlesWithoutPins:{type:Array,default:()=>[]}},setup(i){N();const u=i,y=h(!1),p=h(null),$=h([]);D(()=>$.value.length>0);const v=h(!1),a=h([]),c=h(!1),j=D({get:()=>a.value.length===u.articlesWithoutPins.length&&u.articlesWithoutPins.length>0,set:r=>{r?a.value=u.articlesWithoutPins.map(t=>t.id):a.value=[]}}),B=r=>{const t=a.value.indexOf(r);t>-1?a.value.splice(t,1):a.value.push(r)},L=()=>{a.value.length!==0&&(c.value=!0,P.post(route("superadmin.pinterest-pins.bulk-generate",{website:u.currentWebsite.id}),{article_ids:a.value},{onSuccess:()=>{v.value=!1,a.value=[],c.value=!1},onError:()=>{c.value=!1}}))},C=()=>{v.value=!1,a.value=[]},z=r=>{p.value=r,y.value=!0},_=()=>{y.value=!1,p.value=null},H=()=>{p.value&&P.delete(route("superadmin.pinterest-pins.destroy",{website:u.currentWebsite.id,pin:p.value.id}),{onSuccess:()=>_()})},A=r=>{P.post(route("superadmin.pinterest-pins.regenerate",{website:u.currentWebsite.id,pin:r.id}))},G=r=>{window.location.href=route("superadmin.pinterest-pins.download",{website:u.currentWebsite.id,pin:r.id})},S=async r=>{const t=`Title: ${r.title}
Description: ${r.description||""}
Link: ${r.link||""}`;await navigator.clipboard.writeText(t)},T=r=>{switch(r){case"generated":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";case"pending":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"failed":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}};return(r,t)=>(o(),n(w,null,[m(x(F),{title:"Pinterest Designs"}),m(U,null,{default:b(()=>[e("div",Y,[e("div",q,[t[5]||(t[5]=e("div",null,[e("h1",{class:"text-3xl font-bold text-white"},"Pinterest Designs"),e("p",{class:"text-gray-400 mt-1"},"Create and manage Pinterest pin images for your articles")],-1)),e("div",R,[i.articlesWithoutPins.length>0?(o(),n("button",{key:0,onClick:t[0]||(t[0]=s=>v.value=!0),class:"flex items-center gap-2 px-5 py-2.5 bg-[#252525] hover:bg-[#2a2a2a] text-white rounded-xl font-medium transition-all border border-[#3a3a3a]"},[t[3]||(t[3]=e("svg",{class:"w-5 h-5 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1)),f(" Generate Missing ("+l(i.articlesWithoutPins.length)+") ",1)])):d("",!0),m(x(k),{href:r.route("superadmin.pinterest-pins.create",{website:i.currentWebsite.id}),class:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 text-white rounded-xl font-medium transition-all shadow-lg shadow-pink-500/20"},{default:b(()=>[...t[4]||(t[4]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),f(" Create Pin Design ",-1)])]),_:1},8,["href"])])]),r.$page.props.flash?.success?(o(),n("div",J,[e("div",K,[t[6]||(t[6]=e("svg",{class:"w-5 h-5 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),e("span",null,l(r.$page.props.flash.success),1)])])):d("",!0),r.$page.props.errors?.error?(o(),n("div",Q,[e("div",X,[t[7]||(t[7]=e("svg",{class:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,l(r.$page.props.errors.error),1)])])):d("",!0),i.pins.data.length===0?(o(),n("div",Z,[t[9]||(t[9]=e("div",{class:"w-20 h-20 mx-auto mb-6 rounded-2xl bg-gradient-to-br from-pink-500/20 to-rose-500/20 flex items-center justify-center"},[e("svg",{class:"w-10 h-10 text-pink-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2"})])],-1)),t[10]||(t[10]=e("h3",{class:"text-xl font-semibold text-white mb-2"},"No Pinterest Designs Yet",-1)),t[11]||(t[11]=e("p",{class:"text-gray-400 mb-6 max-w-md mx-auto"}," Create beautiful Pinterest pin images from your articles to drive traffic from Pinterest to your website. ",-1)),m(x(k),{href:r.route("superadmin.pinterest-pins.create",{website:i.currentWebsite.id}),class:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 text-white rounded-xl font-medium transition-all"},{default:b(()=>[...t[8]||(t[8]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),f(" Create Your First Pin ",-1)])]),_:1},8,["href"])])):(o(),n("div",ee,[(o(!0),n(w,null,M(i.pins.data,s=>(o(),n("div",{key:s.id,class:"bg-[#1a1a1a] rounded-2xl border border-[#2a2a2a] overflow-hidden group hover:border-pink-500/50 transition-all"},[e("div",te,[s.generated_image_url?(o(),n("img",{key:0,src:s.generated_image_url,alt:s.title,class:"w-full h-full object-cover"},null,8,se)):(o(),n("div",oe,[s.status==="pending"?(o(),n("div",re,[...t[12]||(t[12]=[e("svg",{class:"w-12 h-12 text-yellow-400 animate-spin mx-auto mb-2",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),e("span",{class:"text-yellow-400 text-sm"},"Generating...",-1)])])):s.status==="failed"?(o(),n("div",ne,[t[13]||(t[13]=e("svg",{class:"w-12 h-12 text-red-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t[14]||(t[14]=e("span",{class:"text-red-400 text-sm"},"Generation Failed",-1)),e("p",le,l(s.error_message),1)])):(o(),n("div",ie,[...t[15]||(t[15]=[e("svg",{class:"w-12 h-12 text-gray-600 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])]))])),e("div",ae,[s.generated_image_url?(o(),n("button",{key:0,onClick:g=>G(s),class:"p-3 bg-white/10 hover:bg-white/20 rounded-xl transition-colors",title:"Download"},[...t[16]||(t[16]=[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1)])],8,de)):d("",!0),e("button",{onClick:g=>A(s),class:"p-3 bg-white/10 hover:bg-white/20 rounded-xl transition-colors",title:"Regenerate"},[...t[17]||(t[17]=[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])],8,ue),e("button",{onClick:g=>S(s),class:"p-3 bg-white/10 hover:bg-white/20 rounded-xl transition-colors",title:"Copy Info"},[...t[18]||(t[18]=[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1)])],8,ce),e("button",{onClick:g=>z(s),class:"p-3 bg-red-500/20 hover:bg-red-500/40 rounded-xl transition-colors",title:"Delete"},[...t[19]||(t[19]=[e("svg",{class:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,he)]),e("div",ge,[e("span",{class:V(["px-2 py-1 text-xs font-medium rounded-lg border",T(s.status)])},l(s.status),3)])]),e("div",xe,[e("h3",pe,l(s.title),1),e("p",ve,l(s.article?.title||"Unknown article"),1),e("div",me,[e("span",be,l(new Date(s.created_at).toLocaleDateString()),1),s.article?(o(),W(x(k),{key:0,href:r.route("superadmin.articles.edit",{website:i.currentWebsite.id,article:s.article.id}),class:"text-pink-400 hover:text-pink-300 text-xs font-medium"},{default:b(()=>[...t[20]||(t[20]=[f(" View Article → ",-1)])]),_:1},8,["href"])):d("",!0)])])]))),128))])),i.pins.links&&i.pins.links.length>3?(o(),n("div",fe,[(o(!0),n(w,null,M(i.pins.links,s=>(o(),W(x(k),{key:s.label,href:s.url||"#",class:V(["px-4 py-2 rounded-lg text-sm transition-colors",s.active?"bg-pink-500 text-white":s.url?"bg-[#1a1a1a] text-gray-400 hover:text-white hover:bg-[#252525]":"bg-[#1a1a1a] text-gray-600 cursor-not-allowed"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])):d("",!0)]),y.value?(o(),n("div",ke,[e("div",{class:"absolute inset-0 bg-black/70",onClick:_}),e("div",{class:"relative bg-[#1a1a1a] rounded-2xl border border-[#2a2a2a] p-6 max-w-md w-full mx-4"},[t[21]||(t[21]=e("h3",{class:"text-xl font-semibold text-white mb-2"},"Delete Pinterest Pin",-1)),t[22]||(t[22]=e("p",{class:"text-gray-400 mb-6"}," Are you sure you want to delete this Pinterest pin? This action cannot be undone. ",-1)),e("div",{class:"flex justify-end gap-3"},[e("button",{onClick:_,class:"px-4 py-2 bg-[#252525] hover:bg-[#2a2a2a] text-white rounded-lg transition-colors"}," Cancel "),e("button",{onClick:H,class:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors"}," Delete Pin ")])])])):d("",!0),v.value?(o(),n("div",we,[e("div",{class:"absolute inset-0 bg-black/70",onClick:C}),e("div",ye,[e("div",{class:"flex items-center justify-between mb-4"},[t[24]||(t[24]=e("div",null,[e("h3",{class:"text-xl font-semibold text-white"},"Generate Pinterest Pins"),e("p",{class:"text-gray-400 text-sm mt-1"},"Select articles to generate Pinterest pins for")],-1)),e("button",{onClick:C,class:"text-gray-400 hover:text-white"},[...t[23]||(t[23]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",Ce,[O(e("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=s=>j.value=s),class:"w-5 h-5 rounded bg-[#252525] border-[#3a3a3a] text-pink-500 focus:ring-pink-500"},null,512),[[E,j.value]]),e("span",_e,"Select All ("+l(i.articlesWithoutPins.length)+" articles)",1)]),e("div",Me,[(o(!0),n(w,null,M(i.articlesWithoutPins,s=>(o(),n("div",{key:s.id,class:"flex items-center gap-4 p-3 bg-[#252525] rounded-xl hover:bg-[#2a2a2a] transition-colors cursor-pointer",onClick:g=>B(s.id)},[e("input",{type:"checkbox",checked:a.value.includes(s.id),onClick:t[2]||(t[2]=I(()=>{},["stop"])),onChange:g=>B(s.id),class:"w-5 h-5 rounded bg-[#1a1a1a] border-[#3a3a3a] text-pink-500 focus:ring-pink-500"},null,40,je),s.featured_image?(o(),n("img",{key:0,src:s.featured_image,alt:s.title,class:"w-12 h-12 rounded-lg object-cover"},null,8,Be)):(o(),n("div",De,[...t[25]||(t[25]=[e("svg",{class:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])])),e("div",Ve,[e("h4",We,l(s.title),1),e("p",$e,l(s.status)+" • "+l(new Date(s.created_at).toLocaleDateString()),1)])],8,Pe))),128))]),e("div",Le,[e("span",ze,l(a.value.length)+" articles selected",1),e("div",He,[e("button",{onClick:C,class:"px-4 py-2 bg-[#252525] hover:bg-[#2a2a2a] text-white rounded-lg transition-colors"}," Cancel "),e("button",{onClick:L,disabled:a.value.length===0||c.value,class:"px-5 py-2 bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 text-white rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"},[c.value?(o(),n("svg",Ge,[...t[26]||(t[26]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):d("",!0),e("span",null,l(c.value?"Generating...":"Generate Pins"),1)],8,Ae)])])])])):d("",!0)]),_:1})],64))}};export{Fe as default};
