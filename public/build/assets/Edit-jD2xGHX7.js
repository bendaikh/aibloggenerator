import{A as h,u as k,c as _,w as x,a as b,b as e,d as s,h as V,g as i,i as d,p as f,f as y,o,t as n,e as A,k as u,F as U,x as C,y as M,v as c,J as g,z as S}from"./app-xzeMf793.js";import{_ as B}from"./SuperAdminLayout-D9EX0hno.js";import{_ as j}from"./ImageUpload-K4IoNfNY.js";import"./AIJobsNotification-C_rneam_.js";const W={class:"p-8"},L={class:"max-w-4xl"},T={class:"mb-8"},D={key:0,class:"bg-emerald-900/50 border border-emerald-500 text-emerald-200 px-6 py-4 rounded-lg mb-6"},E={class:"flex items-center gap-3"},$={key:1,class:"bg-gradient-to-r from-purple-900/30 to-indigo-900/30 border border-purple-800/50 rounded-lg p-4 mb-6"},F={class:"bg-[#1a1a1a] rounded-2xl border border-[#2a2a2a] p-8"},N={class:"mb-6"},R=["value"],z={key:0,class:"mt-2 text-sm text-red-500"},I={class:"mb-6"},P={key:0,class:"mt-2 text-sm text-red-500"},q={class:"mb-6"},H={key:0,class:"mt-2 text-sm text-red-500"},O={class:"mb-6"},G={key:0,class:"mt-2 text-sm text-red-500"},J={class:"mb-6"},Y={key:0,class:"mt-2 text-sm text-red-500"},K={class:"mb-6"},Q={key:0,class:"mt-2 text-sm text-red-500"},X={class:"mb-6"},Z={class:"flex gap-6"},ee={class:"flex items-center cursor-pointer"},te={class:"flex items-center cursor-pointer"},se={class:"flex items-center cursor-pointer"},re={key:0,class:"mt-2 text-sm text-red-500"},le={key:0,class:"mb-6"},oe={key:0,class:"mt-2 text-sm text-red-500"},ie={class:"flex items-center justify-between"},ae={class:"flex gap-4"},de=["disabled"],ne={key:0},ue={key:1},xe={__name:"Edit",props:{article:Object,currentWebsite:Object,websites:Array},setup(m){h();const a=m,r=k({category_id:a.article.category_id||"",title:a.article.title||"",slug:a.article.slug||"",excerpt:a.article.excerpt||"",content:a.article.content||"",featured_image:a.article.featured_image||"",status:a.article.status||"draft",published_at:a.article.published_at?a.article.published_at.substring(0,16):""}),v=()=>{r.put(route("superadmin.articles.update",{website:a.currentWebsite?.id,article:a.article.id}))},w=()=>{confirm(`Are you sure you want to delete "${a.article.title}"?`)&&S.delete(route("superadmin.articles.destroy",{website:a.currentWebsite?.id,article:a.article.id}))};return(p,t)=>(o(),_(B,null,{default:x(()=>[b(s(V),{title:"Edit: "+m.article.title},null,8,["title"]),e("div",W,[e("div",L,[e("div",T,[b(s(f),{href:p.route("superadmin.articles.show",{website:m.currentWebsite?.id,article:m.article.id}),class:"text-gray-400 hover:text-white flex items-center text-sm"},{default:x(()=>[...t[10]||(t[10]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),y(" Back to Article ",-1)])]),_:1},8,["href"])]),p.$page.props.flash?.success?(o(),i("div",D,[e("div",E,[t[11]||(t[11]=e("svg",{class:"w-5 h-5 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),e("span",null,n(p.$page.props.flash.success),1)])])):d("",!0),m.article.ai_generated?(o(),i("div",$,[...t[12]||(t[12]=[e("div",{class:"flex items-center gap-3"},[e("div",{class:"w-10 h-10 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])]),e("div",null,[e("h4",{class:"text-purple-300 font-medium"},"AI-Generated Article"),e("p",{class:"text-sm text-purple-200/70"},"This article was generated by AI. Review and edit before publishing.")])],-1)])])):d("",!0),e("div",F,[t[26]||(t[26]=e("h1",{class:"text-3xl font-bold text-white mb-8"},"Edit Article",-1)),e("form",{onSubmit:A(v,["prevent"])},[e("div",N,[t[14]||(t[14]=e("label",{for:"category_id",class:"block text-sm font-medium text-gray-300 mb-2"}," Category ",-1)),u(e("select",{id:"category_id","onUpdate:modelValue":t[0]||(t[0]=l=>s(r).category_id=l),class:"w-full bg-[#252525] border border-[#3a3a3a] text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"},[t[13]||(t[13]=e("option",{value:""},"Select a category",-1)),(o(!0),i(U,null,C(m.currentWebsite?.categories,l=>(o(),i("option",{key:l.id,value:l.id},n(l.name),9,R))),128))],512),[[M,s(r).category_id]]),s(r).errors.category_id?(o(),i("p",z,n(s(r).errors.category_id),1)):d("",!0)]),e("div",I,[t[15]||(t[15]=e("label",{for:"title",class:"block text-sm font-medium text-gray-300 mb-2"}," Title * ",-1)),u(e("input",{id:"title","onUpdate:modelValue":t[1]||(t[1]=l=>s(r).title=l),type:"text",class:"w-full bg-[#252525] border border-[#3a3a3a] text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500",required:""},null,512),[[c,s(r).title]]),s(r).errors.title?(o(),i("p",P,n(s(r).errors.title),1)):d("",!0)]),e("div",q,[t[16]||(t[16]=e("label",{for:"slug",class:"block text-sm font-medium text-gray-300 mb-2"}," Slug (URL) ",-1)),u(e("input",{id:"slug","onUpdate:modelValue":t[2]||(t[2]=l=>s(r).slug=l),type:"text",class:"w-full bg-[#252525] border border-[#3a3a3a] text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"},null,512),[[c,s(r).slug]]),s(r).errors.slug?(o(),i("p",H,n(s(r).errors.slug),1)):d("",!0)]),e("div",O,[b(j,{modelValue:s(r).featured_image,"onUpdate:modelValue":t[3]||(t[3]=l=>s(r).featured_image=l),label:"Featured Image",type:"article",hint:"Recommended size: 1200x630px for social sharing","allow-url":!0},null,8,["modelValue"]),s(r).errors.featured_image?(o(),i("p",G,n(s(r).errors.featured_image),1)):d("",!0)]),e("div",J,[t[17]||(t[17]=e("label",{for:"excerpt",class:"block text-sm font-medium text-gray-300 mb-2"}," Excerpt ",-1)),u(e("textarea",{id:"excerpt","onUpdate:modelValue":t[4]||(t[4]=l=>s(r).excerpt=l),rows:"3",class:"w-full bg-[#252525] border border-[#3a3a3a] text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"A brief summary of the article..."},null,512),[[c,s(r).excerpt]]),s(r).errors.excerpt?(o(),i("p",Y,n(s(r).errors.excerpt),1)):d("",!0)]),e("div",K,[t[18]||(t[18]=e("label",{for:"content",class:"block text-sm font-medium text-gray-300 mb-2"}," Content * ",-1)),u(e("textarea",{id:"content","onUpdate:modelValue":t[5]||(t[5]=l=>s(r).content=l),rows:"15",class:"w-full bg-[#252525] border border-[#3a3a3a] text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 font-mono text-sm",placeholder:"Write your article content here... (HTML supported)",required:""},null,512),[[c,s(r).content]]),t[19]||(t[19]=e("p",{class:"mt-1 text-sm text-gray-500"},"You can use HTML for formatting.",-1)),s(r).errors.content?(o(),i("p",Q,n(s(r).errors.content),1)):d("",!0)]),e("div",X,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"}," Status * ",-1)),e("div",Z,[e("label",ee,[u(e("input",{type:"radio","onUpdate:modelValue":t[6]||(t[6]=l=>s(r).status=l),value:"draft",class:"mr-2 accent-emerald-500"},null,512),[[g,s(r).status]]),t[20]||(t[20]=e("span",{class:"text-gray-300"},"Draft",-1))]),e("label",te,[u(e("input",{type:"radio","onUpdate:modelValue":t[7]||(t[7]=l=>s(r).status=l),value:"published",class:"mr-2 accent-emerald-500"},null,512),[[g,s(r).status]]),t[21]||(t[21]=e("span",{class:"text-gray-300"},"Published",-1))]),e("label",se,[u(e("input",{type:"radio","onUpdate:modelValue":t[8]||(t[8]=l=>s(r).status=l),value:"scheduled",class:"mr-2 accent-emerald-500"},null,512),[[g,s(r).status]]),t[22]||(t[22]=e("span",{class:"text-gray-300"},"Scheduled",-1))])]),s(r).errors.status?(o(),i("p",re,n(s(r).errors.status),1)):d("",!0)]),s(r).status==="scheduled"?(o(),i("div",le,[t[24]||(t[24]=e("label",{for:"published_at",class:"block text-sm font-medium text-gray-300 mb-2"}," Publish Date ",-1)),u(e("input",{id:"published_at","onUpdate:modelValue":t[9]||(t[9]=l=>s(r).published_at=l),type:"datetime-local",class:"w-full bg-[#252525] border border-[#3a3a3a] text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"},null,512),[[c,s(r).published_at]]),s(r).errors.published_at?(o(),i("p",oe,n(s(r).errors.published_at),1)):d("",!0)])):d("",!0),e("div",ie,[e("button",{type:"button",onClick:w,class:"px-6 py-2 text-red-400 hover:text-red-300 transition"}," Delete Article "),e("div",ae,[b(s(f),{href:p.route("superadmin.articles.show",{website:m.currentWebsite?.id,article:m.article.id}),class:"px-6 py-2 text-gray-400 hover:text-white transition"},{default:x(()=>[...t[25]||(t[25]=[y(" Cancel ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:s(r).processing,class:"px-6 py-3 bg-emerald-500 text-white font-semibold rounded-lg hover:bg-emerald-600 transition disabled:opacity-50 disabled:cursor-not-allowed"},[s(r).processing?(o(),i("span",ne,"Saving...")):(o(),i("span",ue,"Save Changes"))],8,de)])])],32)])])])]),_:1}))}};export{xe as default};
