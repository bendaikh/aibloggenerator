import{y as V,r as y,u as A,g as a,a as w,d as o,h as B,w as U,b as e,i as u,t as n,f as S,o as l,F as x,x as z,n as D,e as N,k as m,v as b,m as E,A as F}from"./app-DR32M5dq.js";import{_ as L}from"./SuperAdminLayout-Cay7pPSe.js";import"./AIJobsNotification-BZPGZkbN.js";const P={class:"p-8"},I={class:"flex items-center justify-between mb-8"},T={class:"text-gray-400 mt-1"},$={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},O={class:"h-48 bg-[#0a0a0a] flex items-center justify-center border-b border-[#2a2a2a]"},W=["src","alt"],H={key:1,class:"text-center"},G={class:"text-gray-600 text-sm font-medium"},R={class:"p-6"},q={class:"text-xl font-bold text-white mb-2"},J={key:0,class:"text-gray-400 text-sm mb-3 line-clamp-2"},K={class:"flex items-center gap-2 mb-4"},Q={class:"text-xs px-2 py-1 rounded bg-gray-800 text-gray-300"},X={class:"flex gap-2"},Y=["onClick"],Z=["onClick"],ee={key:1,class:"bg-[#1a1a1a] rounded-2xl border border-[#2a2a2a] p-12 text-center"},te={key:0,class:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4"},se={class:"bg-[#1a1a1a] rounded-2xl border border-[#2a2a2a] max-w-2xl w-full max-h-[90vh] overflow-y-auto"},re={class:"p-6 border-b border-[#2a2a2a]"},oe={class:"text-2xl font-bold text-white"},ae={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},le={class:"space-y-6"},ie={key:0,class:"mt-1 text-sm text-red-500"},ne={key:0,class:"mt-1 text-sm text-red-500"},de={key:0,class:"mt-1 text-sm text-red-500"},ue={class:"space-y-6"},ce=["src"],me={key:0,class:"mt-1 text-sm text-red-500"},ge={key:1,class:"mt-1 text-sm text-red-500"},pe={class:"flex items-center"},xe={key:0,class:"mt-1 text-sm text-red-500"},be={class:"flex justify-end gap-3 pt-4 border-t border-[#2a2a2a]"},ve=["disabled"],we={__name:"Categories",props:{categories:{type:Array,default:()=>[]},currentWebsite:{type:Object,default:null},websites:{type:Array,default:()=>[]}},setup(g){V();const v=g,p=y(!1),d=y(null),c=y(null),s=A({name:"",slug:"",description:"",image:null,image_file:null,order:0,is_active:!0,_method:"POST"}),k=i=>{const t=i.target.files[0];if(t){d.value?s.image_file=t:s.image=t;const r=new FileReader;r.onload=h=>{c.value=h.target.result},r.readAsDataURL(t)}},_=()=>{d.value=null,s.reset(),s.clearErrors(),s._method="POST",c.value=null,p.value=!0},C=i=>{d.value=i,s.name=i.name,s.slug=i.slug,s.description=i.description||"",s.image=null,s.image_file=null,s.order=i.order,s.is_active=i.is_active,s._method="PUT",s.clearErrors(),c.value=i.image,p.value=!0},f=()=>{p.value=!1,d.value=null,s.reset(),s.clearErrors(),c.value=null},M=()=>{d.value?s.post(route("superadmin.categories.update",{website:v.currentWebsite?.id,category:d.value.id}),{onSuccess:()=>{f()},forceFormData:!0}):s.post(route("superadmin.categories.store",{website:v.currentWebsite?.id}),{onSuccess:()=>{f()},forceFormData:!0})},j=i=>{confirm(`Are you sure you want to delete "${i.name}"? This will also remove it from all articles.`)&&F.delete(route("superadmin.categories.destroy",{website:v.currentWebsite?.id,category:i.id}),{preserveScroll:!0})};return(i,t)=>(l(),a(x,null,[w(o(B),{title:"Categories"}),w(L,null,{default:U(()=>[e("div",P,[e("div",I,[e("div",null,[t[6]||(t[6]=e("h1",{class:"text-3xl font-bold text-white"},"Categories",-1)),e("p",T,"Organize articles for "+n(g.currentWebsite?.name),1)]),e("button",{onClick:_,class:"flex items-center gap-2 bg-emerald-500 hover:bg-emerald-600 text-white px-4 py-2 rounded-lg font-medium transition-colors"},[...t[7]||(t[7]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),S(" Add Category ",-1)])])]),g.categories.length>0?(l(),a("div",$,[(l(!0),a(x,null,z(g.categories,r=>(l(),a("div",{key:r.id,class:"bg-[#1a1a1a] rounded-2xl border border-[#2a2a2a] overflow-hidden hover:border-emerald-500 transition-colors"},[e("div",O,[r.image?(l(),a("img",{key:0,src:r.image,alt:r.name,class:"h-full w-full object-cover"},null,8,W)):(l(),a("div",H,[t[8]||(t[8]=e("svg",{class:"w-12 h-12 text-gray-700 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),e("span",G,n(r.name),1)]))]),e("div",R,[e("h3",q,n(r.name),1),r.description?(l(),a("p",J,n(r.description),1)):u("",!0),e("div",K,[e("span",Q,n(r.articles_count||0)+" articles ",1),e("span",{class:D(["text-xs px-2 py-1 rounded",r.is_active?"bg-green-900 text-green-300":"bg-red-900 text-red-300"])},n(r.is_active?"Active":"Inactive"),3)]),e("div",X,[e("button",{onClick:h=>C(r),class:"flex-1 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm transition-colors"}," Edit ",8,Y),e("button",{onClick:h=>j(r),class:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm transition-colors"}," Delete ",8,Z)])])]))),128))])):(l(),a("div",ee,[...t[9]||(t[9]=[e("svg",{class:"w-16 h-16 text-gray-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1),e("p",{class:"text-gray-400 text-lg"},"No categories yet",-1),e("p",{class:"text-gray-500 text-sm mt-2"},"Create your first category to organize articles",-1)])]))]),p.value?(l(),a("div",te,[e("div",se,[e("div",re,[e("h2",oe,n(d.value?"Edit Category":"Add New Category"),1)]),e("form",{onSubmit:N(M,["prevent"]),class:"p-6 space-y-6"},[e("div",ae,[e("div",le,[e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"}," Category Name * ",-1)),m(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>o(s).name=r),type:"text",required:"",class:"w-full px-4 py-2 bg-[#0a0a0a] border border-[#2a2a2a] rounded-lg text-white focus:ring-2 focus:ring-emerald-500",placeholder:"e.g., Comfort Classics"},null,512),[[b,o(s).name]]),o(s).errors.name?(l(),a("p",ie,n(o(s).errors.name),1)):u("",!0)]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"}," Slug (optional) ",-1)),m(e("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>o(s).slug=r),type:"text",class:"w-full px-4 py-2 bg-[#0a0a0a] border border-[#2a2a2a] rounded-lg text-white focus:ring-2 focus:ring-emerald-500",placeholder:"Auto-generated from name if empty"},null,512),[[b,o(s).slug]]),o(s).errors.slug?(l(),a("p",ne,n(o(s).errors.slug),1)):u("",!0)]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"}," Display Order ",-1)),m(e("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>o(s).order=r),type:"number",class:"w-full px-4 py-2 bg-[#0a0a0a] border border-[#2a2a2a] rounded-lg text-white focus:ring-2 focus:ring-emerald-500",placeholder:"0"},null,512),[[b,o(s).order,void 0,{number:!0}]]),o(s).errors.order?(l(),a("p",de,n(o(s).errors.order),1)):u("",!0)])]),e("div",ue,[e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"}," Category Image ",-1)),e("div",{onClick:t[3]||(t[3]=r=>i.$refs.imageInput.click()),class:"w-full h-40 bg-[#0a0a0a] border-2 border-dashed border-[#2a2a2a] rounded-xl flex flex-col items-center justify-center cursor-pointer hover:border-emerald-500 transition-colors group relative overflow-hidden"},[c.value?(l(),a(x,{key:0},[e("img",{src:c.value,class:"absolute inset-0 w-full h-full object-cover opacity-50 group-hover:opacity-30 transition-opacity"},null,8,ce),t[13]||(t[13]=e("div",{class:"relative z-10 text-center"},[e("svg",{class:"w-8 h-8 text-white mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})]),e("span",{class:"text-white text-sm font-medium"},"Change Image")],-1))],64)):(l(),a(x,{key:1},[t[14]||(t[14]=e("svg",{class:"w-10 h-10 text-gray-600 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),t[15]||(t[15]=e("span",{class:"text-gray-500 text-sm"},"Upload PNG, JPG (Max 2MB)",-1))],64)),e("input",{type:"file",ref:"imageInput",class:"hidden",accept:"image/*",onChange:k},null,544)]),o(s).errors.image?(l(),a("p",me,n(o(s).errors.image),1)):u("",!0),o(s).errors.image_file?(l(),a("p",ge,n(o(s).errors.image_file),1)):u("",!0)]),e("div",pe,[m(e("input",{"onUpdate:modelValue":t[4]||(t[4]=r=>o(s).is_active=r),type:"checkbox",id:"is_active",class:"w-4 h-4 text-emerald-600 bg-[#0a0a0a] border-[#2a2a2a] rounded focus:ring-emerald-500"},null,512),[[E,o(s).is_active]]),t[17]||(t[17]=e("label",{for:"is_active",class:"ml-2 text-sm text-gray-300"}," Active (visible on website) ",-1))])])]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"}," Description ",-1)),m(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=r=>o(s).description=r),rows:"3",class:"w-full px-4 py-2 bg-[#0a0a0a] border border-[#2a2a2a] rounded-lg text-white focus:ring-2 focus:ring-emerald-500",placeholder:"Brief description of this category"},null,512),[[b,o(s).description]]),o(s).errors.description?(l(),a("p",xe,n(o(s).errors.description),1)):u("",!0)]),e("div",be,[e("button",{type:"button",onClick:f,class:"px-4 py-2 text-gray-300 hover:text-white transition-colors"}," Cancel "),e("button",{type:"submit",disabled:o(s).processing,class:"px-6 py-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg font-medium transition-colors disabled:opacity-50"},n(o(s).processing?"Saving...":d.value?"Update Category":"Create Category"),9,ve)])],32)])])):u("",!0)]),_:1})],64))}};export{we as default};
