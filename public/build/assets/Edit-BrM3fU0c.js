import{u as C,q as S,c as A,w as b,a as g,b as t,d as r,h as M,p as x,f as y,e as B,g as a,i as d,k as n,o as l,F as _,G as v,t as u,H as w,v as m,I as f,J as j}from"./app-BbDxI2lc.js";import{_ as D}from"./SuperAdminLayout-BbSQPXHw.js";const E={class:"py-12"},L={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},T={class:"mb-8"},q={class:"bg-white rounded-lg shadow-md p-8"},F={class:"mb-6"},N=["value"],H={key:0,class:"mt-2 text-sm text-red-600"},I={class:"mb-6"},P=["value"],R={key:0,class:"mt-2 text-sm text-red-600"},W={class:"mb-6"},$={key:0,class:"mt-2 text-sm text-red-600"},G={class:"mb-6"},J={key:0,class:"mt-2 text-sm text-red-600"},O={class:"mb-6"},Y={key:0,class:"mt-2"},z=["src"],K={key:1,class:"mt-2 text-sm text-red-600"},Q={class:"mb-6"},X={key:0,class:"mt-2 text-sm text-red-600"},Z={class:"mb-6"},ee={key:0,class:"mt-2 text-sm text-red-600"},te={class:"mb-6"},se={class:"flex gap-4"},re={class:"flex items-center"},oe={class:"flex items-center"},le={class:"flex items-center"},ae={key:0,class:"mt-2 text-sm text-red-600"},ie={key:0,class:"mb-6"},de={key:0,class:"mt-2 text-sm text-red-600"},ne={class:"flex items-center justify-between"},ue={class:"flex gap-4"},me=["disabled"],pe={key:0},ce={key:1},fe={__name:"Edit",props:{article:Object,websites:Array},setup(p){const i=p,s=C({website_id:i.article.website_id||"",category_id:i.article.category_id||"",title:i.article.title||"",slug:i.article.slug||"",excerpt:i.article.excerpt||"",content:i.article.content||"",featured_image:i.article.featured_image||"",status:i.article.status||"draft",published_at:i.article.published_at?i.article.published_at.substring(0,16):""}),k=S(()=>s.website_id?i.websites.find(e=>e.id===parseInt(s.website_id))?.categories||[]:[]),h=()=>{s.category_id=""},V=()=>{s.put(route("superadmin.articles.update",i.article.id))},U=()=>{confirm(`Are you sure you want to delete "${i.article.title}"?`)&&j.delete(route("superadmin.articles.destroy",i.article.id))};return(c,e)=>(l(),A(D,null,{default:b(()=>[g(r(M),{title:"Edit: "+p.article.title},null,8,["title"]),t("div",E,[t("div",L,[t("div",T,[g(r(x),{href:c.route("superadmin.articles.show",p.article.id),class:"text-teal-600 hover:text-teal-700 flex items-center"},{default:b(()=>[...e[11]||(e[11]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),y(" Back to Article ",-1)])]),_:1},8,["href"])]),t("div",q,[e[28]||(e[28]=t("h1",{class:"text-3xl font-bold text-gray-900 mb-8"},"Edit Article",-1)),t("form",{onSubmit:B(V,["prevent"])},[t("div",F,[e[13]||(e[13]=t("label",{for:"website_id",class:"block text-sm font-medium text-gray-700 mb-2"}," Website * ",-1)),n(t("select",{id:"website_id","onUpdate:modelValue":e[0]||(e[0]=o=>r(s).website_id=o),onChange:h,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:""},[e[12]||(e[12]=t("option",{value:""},"Select a website",-1)),(l(!0),a(_,null,v(p.websites,o=>(l(),a("option",{key:o.id,value:o.id},u(o.name),9,N))),128))],544),[[w,r(s).website_id]]),r(s).errors.website_id?(l(),a("p",H,u(r(s).errors.website_id),1)):d("",!0)]),t("div",I,[e[15]||(e[15]=t("label",{for:"category_id",class:"block text-sm font-medium text-gray-700 mb-2"}," Category ",-1)),n(t("select",{id:"category_id","onUpdate:modelValue":e[1]||(e[1]=o=>r(s).category_id=o),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"},[e[14]||(e[14]=t("option",{value:""},"Select a category",-1)),(l(!0),a(_,null,v(k.value,o=>(l(),a("option",{key:o.id,value:o.id},u(o.name),9,P))),128))],512),[[w,r(s).category_id]]),r(s).errors.category_id?(l(),a("p",R,u(r(s).errors.category_id),1)):d("",!0)]),t("div",W,[e[16]||(e[16]=t("label",{for:"title",class:"block text-sm font-medium text-gray-700 mb-2"}," Title * ",-1)),n(t("input",{id:"title","onUpdate:modelValue":e[2]||(e[2]=o=>r(s).title=o),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:""},null,512),[[m,r(s).title]]),r(s).errors.title?(l(),a("p",$,u(r(s).errors.title),1)):d("",!0)]),t("div",G,[e[17]||(e[17]=t("label",{for:"slug",class:"block text-sm font-medium text-gray-700 mb-2"}," Slug (URL) ",-1)),n(t("input",{id:"slug","onUpdate:modelValue":e[3]||(e[3]=o=>r(s).slug=o),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"},null,512),[[m,r(s).slug]]),r(s).errors.slug?(l(),a("p",J,u(r(s).errors.slug),1)):d("",!0)]),t("div",O,[e[18]||(e[18]=t("label",{for:"featured_image",class:"block text-sm font-medium text-gray-700 mb-2"}," Featured Image URL ",-1)),n(t("input",{id:"featured_image","onUpdate:modelValue":e[4]||(e[4]=o=>r(s).featured_image=o),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"https://example.com/image.jpg"},null,512),[[m,r(s).featured_image]]),r(s).featured_image?(l(),a("div",Y,[t("img",{src:r(s).featured_image,alt:"Preview",class:"h-32 w-auto rounded-lg object-cover"},null,8,z)])):d("",!0),r(s).errors.featured_image?(l(),a("p",K,u(r(s).errors.featured_image),1)):d("",!0)]),t("div",Q,[e[19]||(e[19]=t("label",{for:"excerpt",class:"block text-sm font-medium text-gray-700 mb-2"}," Excerpt ",-1)),n(t("textarea",{id:"excerpt","onUpdate:modelValue":e[5]||(e[5]=o=>r(s).excerpt=o),rows:"3",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"A brief summary of the article..."},null,512),[[m,r(s).excerpt]]),r(s).errors.excerpt?(l(),a("p",X,u(r(s).errors.excerpt),1)):d("",!0)]),t("div",Z,[e[20]||(e[20]=t("label",{for:"content",class:"block text-sm font-medium text-gray-700 mb-2"}," Content * ",-1)),n(t("textarea",{id:"content","onUpdate:modelValue":e[6]||(e[6]=o=>r(s).content=o),rows:"15",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent font-mono text-sm",placeholder:"Write your article content here... (HTML supported)",required:""},null,512),[[m,r(s).content]]),e[21]||(e[21]=t("p",{class:"mt-1 text-sm text-gray-500"},"You can use HTML for formatting.",-1)),r(s).errors.content?(l(),a("p",ee,u(r(s).errors.content),1)):d("",!0)]),t("div",te,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Status * ",-1)),t("div",se,[t("label",re,[n(t("input",{type:"radio","onUpdate:modelValue":e[7]||(e[7]=o=>r(s).status=o),value:"draft",class:"mr-2"},null,512),[[f,r(s).status]]),e[22]||(e[22]=t("span",{class:"text-gray-700"},"Draft",-1))]),t("label",oe,[n(t("input",{type:"radio","onUpdate:modelValue":e[8]||(e[8]=o=>r(s).status=o),value:"published",class:"mr-2"},null,512),[[f,r(s).status]]),e[23]||(e[23]=t("span",{class:"text-gray-700"},"Published",-1))]),t("label",le,[n(t("input",{type:"radio","onUpdate:modelValue":e[9]||(e[9]=o=>r(s).status=o),value:"scheduled",class:"mr-2"},null,512),[[f,r(s).status]]),e[24]||(e[24]=t("span",{class:"text-gray-700"},"Scheduled",-1))])]),r(s).errors.status?(l(),a("p",ae,u(r(s).errors.status),1)):d("",!0)]),r(s).status==="scheduled"?(l(),a("div",ie,[e[26]||(e[26]=t("label",{for:"published_at",class:"block text-sm font-medium text-gray-700 mb-2"}," Publish Date ",-1)),n(t("input",{id:"published_at","onUpdate:modelValue":e[10]||(e[10]=o=>r(s).published_at=o),type:"datetime-local",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"},null,512),[[m,r(s).published_at]]),r(s).errors.published_at?(l(),a("p",de,u(r(s).errors.published_at),1)):d("",!0)])):d("",!0),t("div",ne,[t("button",{type:"button",onClick:U,class:"px-6 py-2 text-red-600 hover:text-red-800 transition"}," Delete Article "),t("div",ue,[g(r(x),{href:c.route("superadmin.articles.show",p.article.id),class:"px-6 py-2 text-gray-700 hover:text-gray-900 transition"},{default:b(()=>[...e[27]||(e[27]=[y(" Cancel ",-1)])]),_:1},8,["href"]),t("button",{type:"submit",disabled:r(s).processing,class:"px-6 py-3 bg-teal-600 text-white font-semibold rounded-lg hover:bg-teal-700 transition disabled:opacity-50 disabled:cursor-not-allowed"},[r(s).processing?(l(),a("span",pe,"Saving...")):(l(),a("span",ce,"Save Changes"))],8,me)])])],32)])])])]),_:1}))}};export{fe as default};
